%\documentclass[a4paper,twoside,11pt]{article}
\documentclass[11pt, a4paper, oneside]{book}
\usepackage[utf8]{inputenc}

\usepackage{amsmath,amssymb,amsthm}
\usepackage{mathtools}
\usepackage{xifthen}

%\usepackage[style=authoryear]{biblatex}
\usepackage[citestyle=authoryear,bibstyle=authoryear,natbib]{biblatex}
\addbibresource{Sources.bib}

\usepackage{caption}
\usepackage{subcaption}
\usepackage{float}
\usepackage{array}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{pgfplots}
\pgfplotsset{compat=1.13}
\usepackage{tikz}
\usetikzlibrary{arrows,patterns,calc,matrix,shapes}
\usetikzlibrary{arrows.meta}
\usepackage{calc}

\usepackage[margin=1in]{geometry}
\usepackage{changepage}
\usepackage{placeins}
\usepackage{flafter}
\usepackage[doublespacing]{setspace}

\usepackage{lipsum}
\usepackage{titlesec}
\usepackage{nomencl}
\makenomenclature
\usepackage[toc,page]{appendix}
\usepackage{verbatim}
%\usepackage{algorithm2e}
%\usepackage[noend]{algpseudocode}
\usepackage[cache=false]{minted}
\usepackage{listings}
\lstdefinestyle{lua}{
    language=[5.1]Lua,
    basicstyle=\ttfamily,
    tabsize=3,
    showspaces=false,
    showstringspaces=false,
    numbers=left,
    numberstyle=\color{lightgray},
    numbersep=5pt,
    %backgroundcolor=\color{black!5},
    keywordstyle=\color{teal},
    stringstyle=\color{red},
    commentstyle=\color{black!50}
}
\usepackage{import}

\usepackage{booktabs}
\usepackage{fancyhdr}

%\usepackage{cleveref}
\usepackage{hyperref}

% headers and footers
\pagestyle{fancy}
\setlength{\headheight}{14pt}
\renewcommand{\chaptermark}[1]{\markboth{\chaptername\ \thechapter.\ #1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection.\ #1}}
\lhead{\rightmark}
\rhead{\leftmark}

\newcommand{\numberthis}{\addtocounter{equation}{1}\tag{\theequation}}
%\newcommand{\nr}[1]{\refstepcounter{equation}\label{#1}\tag{\theequation}}

\newcommand{\Rmag}[1]{\left|#1\right|}
\newcommand{\Rvec}[1]{\mathbf{#1}}
\newcommand{\Rnvec}[1]{\Rvec{\hat{#1}}}
\newcommand{\Rmvec}[1]{\Rmag{\Rvec{#1}}}
\newcommand{\Rtvec}[1]{\overset{\tau}{\Rvec{#1}}}
\newcommand{\Rntvec}[1]{\overset{\tau}{\Rnvec{#1}}}
\newcommand{\Rdt}{\ensuremath{\delta t}}
\newcommand{\Rovercast}[2]{\overset{\mathclap{\scriptscriptstyle#2}}{#1}}
\newcommand{\Rclamp}[1]{\ensuremath{\text{clamp}\left(#1\right)}}
\newcommand{\Rthresh}[2]{\ensuremath{\left\rmoustache#1\right\lmoustache_{#2}}}
\newcommand{\Rraisemath}[2]{\raisebox{#1}{$\displaystyle#2$}}
\newcommand{\Reg}{{\itshape e.g.~}}
\newcommand{\Rarrowscale}{0.5pt}

%\newcommand{\Rpdiff}[3][]{\frac{\partial^{#1}#2}{\partial^{#1}#3}}
%\ifthenelse{\equal{#1}{}}{omitted}{given}

\newcommand{\Rpdiff}[3][]{%
    \ifthenelse{\equal{#1}{}}%
        {\frac{\partial #2}{\partial #3}}%
        {\frac{\partial^{#1} #2}{\partial^{#1} #3}}%
}

\newcommand{\HIDE}[1]{\PackageWarning{HIDE}{Hidden text in \thesubsection}}
\newcommand{\TODO}[1]{%
    {\color{blue}\texttt{TODO}: \textit{#1}}%
    \PackageWarning{TODO}{"#1"}%
}

\newlength{\rs}

\newcommand{\rfig}[3][0pt]{%
    \refstepcounter{figure}
    \vspace{2ex}
    \begin{center}
        #2
        \vspace{#1}\\
        \parbox{0.8\textwidth}{\centering\singlespacing Figure \thefigure: #3}
    \end{center}
    \vspace{1em}
}

\definecolor{Rred}   {RGB}{191, 63, 63}%BF1F7F
\definecolor{Rgreen} {RGB}{ 63,191, 63}%1FBF1F
\definecolor{Rblue}  {RGB}{ 63, 63,255}%1F1FBF

\definecolor{Rpink}  {RGB}{255, 31,127}%FF1F7F
\definecolor{Rpurple}{RGB}{127, 31,255}%7F1FFF
\definecolor{Rorange}{RGB}{255,127, 31}%FF7F1F
\definecolor{Rlime}  {RGB}{127,255, 31}%7FFF1F
\definecolor{Rocean} {RGB}{ 31,127,255}%1F7FFF
\definecolor{Raqua}  {RGB}{ 31,255,127}%1FFF7F

%\definecolor{Rmaroon}{RGB}{127, 63, 95}%7F3F5F
%\definecolor{Rbrown} {RGB}{127, 95, 63}%7F5F3F
